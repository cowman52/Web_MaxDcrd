<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Accueil - Maxime Decouard</title>
    <link rel="stylesheet" type="text/css" href="/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            // Gérer les clics sur les liens du menu pour les autres pages
            $('nav a:not(.load-textes)').click(function(event){
                event.preventDefault();
                var page_url = $(this).attr('href');
                // Ajouter un paramètre aléatoire pour empêcher la mise en cache
                var random_param = '?nocache=' + Math.random();
                // Charger le contenu de la page avec le paramètre aléatoire
                $('#project-content').load(page_url + random_param + ' #project-content > *', function(responseText, textStatus, XMLHttpRequest) {
                    if (textStatus === "success" || textStatus === "notmodified") {
                        // Réinitialiser des événements JavaScript ou plugins si nécessaire
                    }
                });
            });
        
            // Gérer les clics sur les liens du menu "Textes"
            $('nav a.load-textes').click(function(event){
                event.preventDefault();
                var page_url = $(this).attr('href');
                $('#project-content').empty(); // Vider le contenu existant
                // Charger le contenu des fichiers texte
                fetch('content/Textes/Textes.txt')
                    .then(response => response.text())
                    .then(text => {
                        // Utiliser le contenu du texte pour l'afficher sur ta page HTML
                        $('#project-content').html(text);
                    });
            });
        
            // Gérer les clics sur les vignettes
            $('#project-content').on('click', '.project-thumbnail', function(event){
                event.preventDefault();
                var imagePath = $(this).data('full-image');
                var imageTitle = $(this).data('title'); // Récupérer le titre associé à l'image agrandie à partir de l'attribut data-title
                // Mettre à jour la section des dessins avec l'image cliquée et son titre
                $('#full-image-container').html('<h2>' + imageTitle + '</h2><img src="' + imagePath + '" alt="Dessin en grand">');
            });
        });
        
    </script>   

</head>
<body>
    <header>
        <div class="container" id="header">
            <div id="header-left">
                <p><a href="index.html">Maxime Decouard<br></a></p>
            </div>
            <div class="subtitle">
                <p><a href="index.html">plasticien scénographe</a></p>
            </div>
        </div>
    </header>

    <nav>
        <ul>
            <li class="project-category" data-category="scenography">
                <a href="scenographie_costume.html"> Scénographie /<br>Costumes</a>
            </li>
            <li class="project-category" data-category="drawings">
                <a href="dessins.html" >Dessins</a>
            </li>
            <li class="project-category" data-category="texts">
                <a href="textes.html" class="load-textes">Textes</a>
            </li>
        </ul>
    </nav>

    <main id="project-content">
    </main>

    <footer class="footer__container project-category" data-category="contact">
        <a href="contact.html" class="footer__item">Contact</a>
    </footer>

</body>
</html>
